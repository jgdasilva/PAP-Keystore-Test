global:
  vault:
    enabled: true
    hashicorp:
      annotations:
        role: ping-ps-aws-us-west-2
        log-level: debug
        agent-inject-secret-adminkeystore.p12: secret/jdasilva@pingidentity.com/ping-devops-jdasilva/pap-keystores
        agent-inject-file-adminkeystore.p12: admin
        secret-volume-path-adminkeystore.p12: /opt/staging/instance/config
        agent-inject-template-adminkeystore.p12: |
          {{ with secret "secret/jdasilva@pingidentity.com/ping-devops-jdasilva/pap-keystores" }}
          {{ .Data.data.admin }}
          {{ end }}
        agent-inject-command-adminkeystore.p12: bin/sh -c "base64 -d /opt/staging/instance/config/admin >/opt/staging/instance/config/admin-keystore.p12"

        agent-inject-secret-keystore.p12: secret/jdasilva@pingidentity.com/ping-devops-jdasilva/pap-keystores
        agent-inject-file-keystore.p12: server
        secret-volume-path-keystore.p12: /opt/staging/instance/config
        agent-inject-template-keystore.p12: |
          {{ with secret "secret/jdasilva@pingidentity.com/ping-devops-jdasilva/pap-keystores" }}
          {{ .Data.data.server }}
          {{ end }}
        agent-inject-command-keystore.p12: bin/sh -c "base64 -d /opt/staging/instance/config/server >/opt/staging/instance/config/keystore.p12"

      secretPrefix: secret/jdasilva@pingidentity.com/ping-devops-jdasilva/
      secrets:
        pap-keystore-passwords:
          to-json:
            file: devops-secret.env
        ping-licenses:
          pingauthorize-9.0.0.0:
            path: /opt/in/instance/
            file: PingAuthorize.lic

pingauthorizepap:
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/jgdasilva/PAP-Keystore-Test.git
    SERVER_PROFILE_PATH: pingauthorizepap
